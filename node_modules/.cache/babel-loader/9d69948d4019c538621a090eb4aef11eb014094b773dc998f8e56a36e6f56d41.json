{"ast":null,"code":"var _jsxFileName = \"/Users/mathieu/Documents/GitHub/D-SCO-300-LYO_1/Front/src/pages/Formations.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport FormationsCardsSection from \"../components/FormationsCardsSection\";\nimport styled from \"styled-components\";\nimport Ecoleimg from \"../img/ecole.png\";\nimport { useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { useDispatch } from \"react-redux\";\nimport Ecole from \"../components/Carte-ecole\";\nimport { getFormations } from \"../redux/reducers/formation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Formations = () => {\n  _s();\n  let dispatch = useDispatch();\n  let [showSection, setShowsection] = useState(false);\n  let [showSection2, setShowsection2] = useState(true);\n  let [formations, setformations] = useState({\n    data: [],\n    isSuccess: true,\n    message: \"\",\n    loading: false\n  });\n  let formati = useSelector(state => state.formations);\n  useEffect(() => {\n    setformations(formati.data);\n    dispatch(getFormations(80));\n  }, []);\n  const handleSearch = e => {\n    console.log(formations);\n    setShowsection(true);\n    setShowsection2(false);\n    setformations(formati.data.filter(form => {\n      return form.fields.g_ea_lib_vx.includes(e.target.value) || form.fields.form_lib_voe_acc.includes(e.target.value);\n    }));\n    console.log(formations);\n  };\n  const sideHandle = i => {\n    if (i % 3 == 0) {\n      return \"right\";\n    } else if (i % 3 == 1) {\n      return \"center\";\n    } else if (i % 3 == 2) {\n      return \"left\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SearchbarSection, {\n      className: \"searchSection\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), showSection && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StyledH2, {\n        formations: formations.length > 0 ? \"full\" : \"empty\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: formations.length > 0 ? \"Resultats de recherche\" : \"aucun resultat de correspond\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GridSection, {\n        className: \"grid\",\n        children: formations.map((form, i) => /*#__PURE__*/_jsxDEV(Ecole, {\n          side: sideHandle(i),\n          className: \"box\",\n          img: Ecoleimg,\n          titre: form.fields.g_ea_lib_vx,\n          diplomes: form.fields.form_lib_voe_acc,\n          link: \"/details\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), showSection2 && /*#__PURE__*/_jsxDEV(FormationsCardsSection, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Formations, \"Ljx8w2p5LGXKNW/uOuWgOnGQddg=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Formations;\nlet SearchbarSection = styled.div`\n  margin-top: 8rem;\n  width: 100%;\n\n  display: flex;\n\n  justify-content: center;\n  align-items: center;\n\n  h2 {\n    margin-left: 10rem;\n\n    width: 100%;\n  }\n  input {\n    width: 70%;\n    border: none;\n\n    font-size: 2rem;\n    padding-bottom: 1rem;\n    border-bottom: 2px solid black;\n\n    border-radius: 2px;\n\n    outline: none;\n\n    &::before {\n      content: \"\";\n\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 150%;\n      height: 3rem;\n      background-color: red;\n    }\n  }\n`;\n_c2 = SearchbarSection;\nlet StyledH2 = styled(motion.div)`\n  color: ${props => props.formations == \"full\" ? \"#358F8B\" : \"#E54B4B\"};\n  margin-top: 5rem;\n  display: flex;\n\n  align-items: center;\n  width: 100%;\n  justify-content: center;\n\n  h2 {\n    display: flex;\n    width: 75%;\n    justify-content: center;\n    align-items: center;\n    transition: all 1s;\n\n    margin-right: ${props => props.formations == \"full\" ? \"60%\" : \"0%\"};\n  }\n`;\n_c3 = StyledH2;\nlet GridSection = styled.div`\n  padding-top: 5rem;\n  padding-right: 10rem;\n  padding-left: 10rem;\n  padding-bottom: 15rem;\n  display: flex;\n  justify-content: space-evenly;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n_c4 = GridSection;\nexport default Formations;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Formations\");\n$RefreshReg$(_c2, \"SearchbarSection\");\n$RefreshReg$(_c3, \"StyledH2\");\n$RefreshReg$(_c4, \"GridSection\");","map":{"version":3,"names":["React","useState","useSelector","FormationsCardsSection","styled","Ecoleimg","useEffect","motion","useDispatch","Ecole","getFormations","Formations","dispatch","showSection","setShowsection","showSection2","setShowsection2","formations","setformations","data","isSuccess","message","loading","formati","state","handleSearch","e","console","log","filter","form","fields","g_ea_lib_vx","includes","target","value","form_lib_voe_acc","sideHandle","i","length","map","SearchbarSection","div","StyledH2","props","GridSection"],"sources":["/Users/mathieu/Documents/GitHub/D-SCO-300-LYO_1/Front/src/pages/Formations.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport FormationsCardsSection from \"../components/FormationsCardsSection\";\nimport styled from \"styled-components\";\n\nimport Ecoleimg from \"../img/ecole.png\";\nimport { useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { useDispatch } from \"react-redux\";\n\nimport Ecole from \"../components/Carte-ecole\";\nimport { getFormations } from \"../redux/reducers/formation\";\n\nconst Formations = () => {\n  let dispatch = useDispatch();\n\n  let [showSection, setShowsection] = useState(false);\n\n  let [showSection2, setShowsection2] = useState(true);\n\n  let [formations, setformations] = useState({\n    data: [],\n    isSuccess: true,\n    message: \"\",\n    loading: false,\n  });\n\n  let formati = useSelector((state) => state.formations);\n\n  useEffect(() => {\n    setformations(formati.data);\n    dispatch(getFormations(80));\n  }, []);\n\n  const handleSearch = (e) => {\n    console.log(formations);\n\n    setShowsection(true);\n    setShowsection2(false);\n    setformations(\n      formati.data.filter((form) => {\n        return (\n          form.fields.g_ea_lib_vx.includes(e.target.value) ||\n          form.fields.form_lib_voe_acc.includes(e.target.value)\n        );\n      })\n    );\n\n    console.log(formations);\n  };\n\n  const sideHandle = (i) => {\n    if (i % 3 == 0) {\n      return \"right\";\n    } else if (i % 3 == 1) {\n      return \"center\";\n    } else if (i % 3 == 2) {\n      return \"left\";\n    }\n  };\n\n  return (\n    <div>\n      <SearchbarSection className=\"searchSection\">\n        <input type=\"text\" onChange={handleSearch} />\n      </SearchbarSection>\n\n      {showSection && (\n        <>\n          <StyledH2 formations={formations.length > 0 ? \"full\" : \"empty\"}>\n            <h2>\n              {formations.length > 0\n                ? \"Resultats de recherche\"\n                : \"aucun resultat de correspond\"}\n            </h2>\n          </StyledH2>\n          <GridSection className=\"grid\">\n            {formations.map((form, i) => (\n              <Ecole\n                key={i}\n                side={sideHandle(i)}\n                className=\"box\"\n                img={Ecoleimg}\n                titre={form.fields.g_ea_lib_vx}\n                diplomes={form.fields.form_lib_voe_acc}\n                link=\"/details\"\n              />\n            ))}\n          </GridSection>\n        </>\n      )}\n\n      {showSection2 && <FormationsCardsSection />}\n    </div>\n  );\n};\n\nlet SearchbarSection = styled.div`\n  margin-top: 8rem;\n  width: 100%;\n\n  display: flex;\n\n  justify-content: center;\n  align-items: center;\n\n  h2 {\n    margin-left: 10rem;\n\n    width: 100%;\n  }\n  input {\n    width: 70%;\n    border: none;\n\n    font-size: 2rem;\n    padding-bottom: 1rem;\n    border-bottom: 2px solid black;\n\n    border-radius: 2px;\n\n    outline: none;\n\n    &::before {\n      content: \"\";\n\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 150%;\n      height: 3rem;\n      background-color: red;\n    }\n  }\n`;\n\nlet StyledH2 = styled(motion.div)`\n  color: ${(props) => (props.formations == \"full\" ? \"#358F8B\" : \"#E54B4B\")};\n  margin-top: 5rem;\n  display: flex;\n\n  align-items: center;\n  width: 100%;\n  justify-content: center;\n\n  h2 {\n    display: flex;\n    width: 75%;\n    justify-content: center;\n    align-items: center;\n    transition: all 1s;\n\n    margin-right: ${(props) => (props.formations == \"full\" ? \"60%\" : \"0%\")};\n  }\n`;\nlet GridSection = styled.div`\n  padding-top: 5rem;\n  padding-right: 10rem;\n  padding-left: 10rem;\n  padding-bottom: 15rem;\n  display: flex;\n  justify-content: space-evenly;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nexport default Formations;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,sBAAsB,MAAM,sCAAsC;AACzE,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,WAAW,QAAQ,aAAa;AAEzC,OAAOC,KAAK,MAAM,2BAA2B;AAC7C,SAASC,aAAa,QAAQ,6BAA6B;AAAC;AAAA;AAE5D,MAAMC,UAAU,GAAG,MAAM;EAAA;EACvB,IAAIC,QAAQ,GAAGJ,WAAW,EAAE;EAE5B,IAAI,CAACK,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAEnD,IAAI,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAEpD,IAAI,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC;IACzCkB,IAAI,EAAE,EAAE;IACRC,SAAS,EAAE,IAAI;IACfC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE;EACX,CAAC,CAAC;EAEF,IAAIC,OAAO,GAAGrB,WAAW,CAAEsB,KAAK,IAAKA,KAAK,CAACP,UAAU,CAAC;EAEtDX,SAAS,CAAC,MAAM;IACdY,aAAa,CAACK,OAAO,CAACJ,IAAI,CAAC;IAC3BP,QAAQ,CAACF,aAAa,CAAC,EAAE,CAAC,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMe,YAAY,GAAIC,CAAC,IAAK;IAC1BC,OAAO,CAACC,GAAG,CAACX,UAAU,CAAC;IAEvBH,cAAc,CAAC,IAAI,CAAC;IACpBE,eAAe,CAAC,KAAK,CAAC;IACtBE,aAAa,CACXK,OAAO,CAACJ,IAAI,CAACU,MAAM,CAAEC,IAAI,IAAK;MAC5B,OACEA,IAAI,CAACC,MAAM,CAACC,WAAW,CAACC,QAAQ,CAACP,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC,IAChDL,IAAI,CAACC,MAAM,CAACK,gBAAgB,CAACH,QAAQ,CAACP,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC;IAEzD,CAAC,CAAC,CACH;IAEDR,OAAO,CAACC,GAAG,CAACX,UAAU,CAAC;EACzB,CAAC;EAED,MAAMoB,UAAU,GAAIC,CAAC,IAAK;IACxB,IAAIA,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACd,OAAO,OAAO;IAChB,CAAC,MAAM,IAAIA,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACrB,OAAO,QAAQ;IACjB,CAAC,MAAM,IAAIA,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACrB,OAAO,MAAM;IACf;EACF,CAAC;EAED,oBACE;IAAA,wBACE,QAAC,gBAAgB;MAAC,SAAS,EAAC,eAAe;MAAA,uBACzC;QAAO,IAAI,EAAC,MAAM;QAAC,QAAQ,EAAEb;MAAa;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QAC5B,EAElBZ,WAAW,iBACV;MAAA,wBACE,QAAC,QAAQ;QAAC,UAAU,EAAEI,UAAU,CAACsB,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,OAAQ;QAAA,uBAC7D;UAAA,UACGtB,UAAU,CAACsB,MAAM,GAAG,CAAC,GAClB,wBAAwB,GACxB;QAA8B;UAAA;UAAA;UAAA;QAAA;MAC/B;QAAA;QAAA;QAAA;MAAA,QACI,eACX,QAAC,WAAW;QAAC,SAAS,EAAC,MAAM;QAAA,UAC1BtB,UAAU,CAACuB,GAAG,CAAC,CAACV,IAAI,EAAEQ,CAAC,kBACtB,QAAC,KAAK;UAEJ,IAAI,EAAED,UAAU,CAACC,CAAC,CAAE;UACpB,SAAS,EAAC,KAAK;UACf,GAAG,EAAEjC,QAAS;UACd,KAAK,EAAEyB,IAAI,CAACC,MAAM,CAACC,WAAY;UAC/B,QAAQ,EAAEF,IAAI,CAACC,MAAM,CAACK,gBAAiB;UACvC,IAAI,EAAC;QAAU,GANVE,CAAC;UAAA;UAAA;UAAA;QAAA,QAQT;MAAC;QAAA;QAAA;QAAA;MAAA,QACU;IAAA,gBAEjB,EAEAvB,YAAY,iBAAI,QAAC,sBAAsB;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA;IAAA;IAAA;IAAA;EAAA,QACvC;AAEV,CAAC;AAAC,GAlFIJ,UAAU;EAAA,QACCH,WAAW,EAaZN,WAAW;AAAA;AAAA,KAdrBS,UAAU;AAoFhB,IAAI8B,gBAAgB,GAAGrC,MAAM,CAACsC,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MArCED,gBAAgB;AAuCpB,IAAIE,QAAQ,GAAGvC,MAAM,CAACG,MAAM,CAACmC,GAAG,CAAE;AAClC,WAAYE,KAAK,IAAMA,KAAK,CAAC3B,UAAU,IAAI,MAAM,GAAG,SAAS,GAAG,SAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAqB2B,KAAK,IAAMA,KAAK,CAAC3B,UAAU,IAAI,MAAM,GAAG,KAAK,GAAG,IAAM;AAC3E;AACA,CAAC;AAAC,MAlBE0B,QAAQ;AAmBZ,IAAIE,WAAW,GAAGzC,MAAM,CAACsC,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MATEG,WAAW;AAWf,eAAelC,UAAU;AAAC;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}